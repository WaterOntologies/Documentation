<!DOCTYPE html>
<html>

<head>
  <title>Open PHACTS Identity Mapping Specification</title>
    <script src='js/respec.js' class='remove'></script>
    <meta http-equiv='Content-Type' content='text/html;charset=utf-8' />
    <script class='remove'>
      var respecConfig = {
          // document info
          orguri:               "http://www.openphacts.org/specs/",
          orgicon:              "<a href='http://www.openphacts.org/'><img height='100' src='../logo/ops.png' alt='Open PHACTS'/></a>",
          customorg:            "Open PHACTS",
          customcss:            "../css/ops.css",
          specStatus:           "ED",
          shortName:            "mappingspec",
          publishDate:   "2012-06-11",
          previousMaturity: "WD",
          previousPublishDate:  "2012-04-30",
          // previousURI : "http://dev.w3.org/2009/dap/ReSpec.js/documentation.html",
          copyrightStart:       "2012",
          overrideCopyright:    "<p class='copyright'>This document is licensed under a <a class='subfoot' href='http://creativecommons.org/licenses/sa-by/3.0/' rel='license'>Creative Commons ShareAlike Attribution 3.0 License</a>.</p>",
          // edDraftURI:           "http://dev.w3.org/2009/dap/ReSpec.js/documentation.html",
          // lcEnd:  "2010-08-06",
          // extraCSS:             ["../css/respec.css"],
          extraCSS:             ["http://dev.w3.org/2009/dap/ReSpec.js/css/respec.css"],

          // editors
          editors:  [
             { name: "Alasdair J G Gray", url: "http://www.cs.man.ac.uk/~graya",
                company: "University of Manchester", companyURL: "http://www.manchester.ac.uk/" },
          ],
          authors:  [
             { name: "Christian Brenninkmeijer",
				company: "University of Manchester", companyURL: "http://www.manchester.ac.uk/" },
             { name: "Chris Evelo",
                company: "Maastricht University", companyURL: "http://www.maastrichtuniversity.nl/" },
			 { name: "Carole Goble",
    			company: "University of Manchester", companyURL: "http://www.manchester.ac.uk/" },
    		 { name: "Alasdair J G Gray", url: "http://www.cs.man.ac.uk/~graya",
                company: "University of Manchester", companyURL: "http://www.manchester.ac.uk/" },
             { name: "Andra Waagmeester",
                company: "Maastricht University", companyURL: "http://www.maastrichtuniversity.nl/" },
             { name: "Egon Willighagen", url: "http://chem-bla-ics.blogpost.com/",
                company: "Maastricht University", companyURL: "http://www.maastrichtuniversity.nl/" },
          ],
          
          // WG
          //wg:           "People Who Like To Write Specs Help Group",
          //wgURI:        "http://berjon.com/",
          //wgPublicList: "spec-writers-anonymous",
          //wgPatentURI:  "",
      };
    </script>
    <style type="text/css">
    	pre { background: #d0ddee; padding: 1.3em 2em; margin-left: 0; }
    </style>
</head>

<body>
  <section id="abstract">
    This is a specification for the links between datasets in Open PHACTS and 
    their exchange format.
  </section>
  <section id="sotd">
    <h4>Disclaimer</h4>
    <p>
      The research leading to these results has received
      support from the Innovative Medicines Initiative
      (<a href="http://www.imi.europa.eu/">IMI</a>) Joint Undertaking under
      grant agreement n° 115191, resources of which are composed of financial
      contribution from the European Union's Seventh Framework Programme
      (FP7/2007-2013) and EFPIA companies’ in kind contribution.<br />
      <img src="../logo/imi.jpg" height="80"/>
      <img src="../logo/eu.jpg" height="80"/>
      <img src="../logo/efpia.jpg" height="80"/>
    </p>
    <h4>Intended audience</h4>
    <p>
      These mapping specifications are intended for data providers who want to 
      interlink their RDF published data on the Open PHACTS platform with
      other RDF datasets.
    </p>
  </section>
  <section id="introduction" class="informative">
    <h2>Introduction</h2>
    <section id="ops-arch">
      <h3>Role in the OPS Architecture</h3>

      <p>The OPS Architecture [[OPS-ARCH]] provides a high-level view of the 
      Open PHACTS framework, with a detailed specification of the identity and 
      vocabulary services given in [[OPS-IV]]. The Open PHACTS RDF guidelines 
      [[OPS-RDF]] specify the vocabularies that are recommended for publishing 
      datasets for use in the OPS system. This specification defines the format 
      of identity mapping linksets that relate the concepts in the various datasets 
      loaded in OPS. The provenance and metadata guidelines about the linksets given 
      in this specification should be used in conjunction with the equivalent 
      statements in the RDF publication guidelines [[OPS-RDF]].</p>

      <p>The identity mapping linksets will predominantly be used as the means 
      to import data to the Identity Mapping Service (IMS) [[IMS]] through the 
      interface defined in Section 4.4.2 of [[OPS-IV]]. The mapping specification 
      will also form the basis of the information model returned through the 
      Identity Mapping Service query interface defined in 
      Section 4.4.1 of [[OPS-IV]].</p>
    </section>
    <section id="ops-rdf">
      <h3>Open PHACTS RDF Guidelines</h3>
      <p>The Open PHACTS project has produced a set of guidelines aimed at
      data providers for publishing their data within the OPS system [[!OPS-RDF]].
      The guide provides details about data licenses and publishing a dataset
      description using VoID. This mapping specification exploits these 
      existing VoID descriptions.</p>
    </section>

  </section>
    
  <section id="conventions">
    <h2>Document Conventions</h2>
    <section id="conformance"></section>
    <section id="rdf-syntax">
    <h3>RDF Syntax Used for Examples</h3>
    <p>All examples in this document are written in the 
    <a href="http://www.w3.org/TR/turtle/">Turtle RDF syntax</a> 
    [[TURTLE]]. Throughout the document, the following namespaces are used:</p>

	<pre class="turtle">
@prefix dcterms: &lt;http://purl.org/dc/terms/&gt; .
@prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .
@prefix owl: &lt;http://www.w3.org/2002/07/owl#&gt; .
@prefix pav: &lt;http://purl.org/pav/2.0/&gt; .
@prefix prov: &lt;http://www.w3.org/ns/prov-o/&gt; . 
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix skos: &lt;http://www.w3.org/2004/02/skos/core#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
	</pre>

	<p>Furthermore, we assume that the empty prefix is bound to the base URL 
	of the current file like this:</p>

	<pre class="turtle">@prefix : &lt;#&gt; .</pre>

	<p>This allows us to quickly mint new identifiers in the local 
	namespace.</p>
	</section>
  </section>
	
  <section id="standards" class="informative">
    <h2>Related Standards</h2>
    <section>
      <h3>Vocabulary of Interlinked Datasets (VoID)</h3>
      <p>The Vocabulary of Interlinked Datasets (VoID) [[!VOID]] is a W3C 
      interest group note that specifies a vocabulary for describing the 
      metadata about a dataset and its relationship with other datasets. 
      The vocabulary builds upon existing metadata vocabularies, e.g. 
      Dublin Core Terms [[DCTERMS]].</p>

	  <p>The VoID specification [[VOID]] provides the following 
	  definitions:</p>
	  <dl>
	  	<dt>Dataset</dt>
	  	<dd>A set of RDF triples that are published, maintained 
	  	or aggregated by a single provider.</dd>
	  	<dt>Link</dt>
	  	<dd>An RDF triple whose subject and object are described in 
	  	different datasets.</dd>
	  	<dt>Linkset</dt>
	  	<dd>A collection of such RDF links between two datasets.</dd>
	  </dl>

	  <p>The VoID specification enables a separation between (1) the 
	  datasets involved in a link, and (2) who publishes the link.</p>

	  <p>Note that a VoID linkset is defined to link two datasets via a 
	  single link predicate (void:linkPredicate). As such, there can 
	  exist multiple linksets relating the same pair of datasets. The 
	  following are examples of some of the multiple linksets that can 
	  exist between datasets ChemSpider and ChEMBL:</p>
	  <ul>
		<li>ChemSpider cs:extUrl ChEMBL as
				published in the ChemSpider dataset</li>
		<li>ChemSpider cs:... ChEMBL as
				published in the ChemSpider dataset</li>
		<li>ChEMBL :csid ChemSpider as
				published in the ChEMBL dataset</li>
		<li>ChEMBL :somePredicate
				ChemSpider as published by some third party</li>
	</ul>
	
      <h4>Vocabulary for Data and Dataset Provenance (voidp)</h4>
      <p>Defined as an extension to VoID, the vocabulary for data and dataset 
	  provenance (voidp) [[VOIDP]] is a vocabulary for defining provenance 
	  relationships of data and datasets. The vocabulary focuses on four 
      specific pieces of provenance information:</p>
	  <blockquote>"for a piece of data, x : 
	  <ul>
		<li>when was x derived,</li>
		<li>how was x derived,</li>
		<li>what data had been used to derive x,</li>
		<li>who carried out the transformations that resulted in the current 
		value of x." [[VOIDP]]</li>
	  </ul>
      </blockquote>
	  <p>These are a subset of the information that needs to be captured for 
      the Open PHACTS linksets.</p>

	  <p>The vocabulary provides its own predicates for capturing these 
      provenance relationships, rather than reusing existing vocabularies for 
      capturing provenance metadata, e.g. the open provenance model [[OPM]] or 
      Provenance Authoring and Versioning ontology [[PAV]]. There is now also 
      a W3C group working on a provenance ontology [[PROV-O]].</p>
    </section>
   <section>
      <h3>Nanopublications</h3>
    </section>
  </section>
  <section id="mapping-specification">
  	<h2>Anatomy of a Mapping Specification</h2>
  	
  	<p>A data instance mapping is a claim that an identifier in one dataset is 
  	related in some way to an identifier in another dataset. The mapping 
  	specification captures the type of relationship and the metadata associated 
  	with the mapping, e.g. provenance information about who created the mapping 
  	and the specific versions of the datasets related.</p>

	<p>Example linksets are given in <a href="#example-linksets">Appendix A</a>. 
    The example linkset in <a href="#CW2CSLinkset">Appendix A.1</a> presents a 
    simple case where a set of ConceptWiki resources are mapped to a set of 
    ChemSpider resources. <a href="#CS2C2B2RChemblLinkset">Appendix A.2</a> 
    presents a more complex example which relates the ChemSpider dataset to 
    the ChEMBL compounds dataset as represented by the Chem2Bio2RDF conversion 
    of ChEMBL version 2 [[Chem2Bio2RDF]].</p>
    
    <section id="mapping-representation">
      <h3>Representing a Mapping</h3>
      
      <p>A mapping must be represented as a VoID link, i.e. it is an RDF triple 
      that relates an identifier in one dataset with an identifier in another 
      dataset with some predicate which provides the meaning of the mapping.</p>
      
      <p>The mapping predicate captures the way in which the two identifiers are 
      related. The mapping should respect the semantics of the relationship, i.e. 
      the owl:sameAs relationship must only be used when the two identifiers are 
      completely interchangeable.</p>
      
      <p>Halpin et al [[Halpin2010]] propose a mapping relationship ontology 
      with eight levels of equivalence: </p>
      <ul>
        <li>Identical (equivalent to owl:sameAs): always interchangeable</li>
        <li>Claims Identical: inverse does not hold</li>
        <li>Matches (equivalent to skos:exactMatch): share many properties, 
        interchangeable in most cases</li>
        <li>Claims Matches: inverse does not hold</li>
        <li>Similar (equivalent to skos:closeMatch): share some properties, not 
        interchangeable</li>
        <li>Claims Similar: inverse does not hold</li>
        <li>Related (equivalent to skos:related): distinct things with an 
        association</li>
        <li>Claims Related (equivalent to rdfs:seeAlso)</li>
      </ul>
      
      <h4>Examples</h4>
      <p>The following example declares that the ChemSpider α-Ketoisovaleric acid
      concept with the <a href="http://www.chemspider.com/48">CSID 48</a> shares 
      many properties with the ChEMBL 3-Methyl-2-oxobutanoic acid concept with 
      the Chem2Bio2RDF 
      <a href="http://cheminfov.informatics.indiana.edu:8080/chembl/page/chembl_compounds/289013">
      ChEMBL ID 289013</a>. The relationship is drawn from ChemSpider based on 
      the compounds sharing the same structure based on their InChI Keys (in 
      this case the compound has the InChI Key QHKABHOOEWYVLI-UHFFFAOYSA-N).</p>
        <pre class="turtle">
@prefix skos: &lt;http://www.w3.org/2004/02/skos/core#&gt; .
http://rdf.chemspider.com/48 skos:exactMatch http://chem2bio2rdf.org/chembl/resource/chembl_compounds/289013 .
        </pre>
    </section>
  </section>
  <section id="example-linksets" class="appendix">
  	<h2>Example Linksets</h2>
    <section id="CW2CSLinkset">
      <h3>ConceptWiki to ChemSpider Linkset</h3>
    </section>
    <section id="CS2C2B2RChemblLinkset">
      <h3>ChemSpider to Chem2Bio2RDF ChEMBL Linkset</h3>
    </section>
  </section>
</body>

</html>
